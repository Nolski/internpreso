<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

    <title>kpoff</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
    <link rel="stylesheet" href="//code.cdn.mozilla.net/fonts/fira.css">
    <link href="//mozorg.cdn.mozilla.net/media/css/tabzilla-min.css" rel="stylesheet" />

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/solarized.css" id="theme">

    <link rel="stylesheet" href="css/preso.css">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>
		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>Going the Extra 10%</h1>
          <h3>Building The Next Generation Video Editor on the Web</h3>
					<p>
          <small>Created by <a href="http://github.com/nolski">Mike Nolan</a> / <a href="http://twitter.com/theroguenolski">@TheRogueNolski</a></small>
					</p>
          <aside class="notes">Hi Everyone, I'm Mike Nolan. I'm a web development intern and my project was to create a way to edit air mozilla videos in the browser</aside>
				</section>

        <section data-background="img/mobo.jpg">
          <blockquote class="giants" cite="https://en.wikipedia.org/wiki/Standing_on_the_shoulders_of_giants">
						&ldquo;We all stand upon the shoulders of giants.&rdquo;
					</blockquote>
          <h2></h2>
          <aside class="notes">I had this great professor who lectured a lot on Free and open source software who always said "We stand upon the shoulders of giants." I always knew what he meant but I guess I never really fully understood the meaning before I worked on this project. None of the work that I am able to present today, would be even remotely possible without the LITERAL millions of hours of work that has been put into developing the Free and open source software that my code uses.</aside>
				</section>

				<section>
          <img src="img/airmologo.png" style="border:none; box-shadow:none;" alt="Air Mozilla logo"/>
          <aside class="notes">So Like I said, I'm an intern working on air mozilla. As I'm sure many of you know already, air mozilla is where we host all of our video content for people to watch. A lot of the time, these videos are recorded before hand and then placed up online. A big issue for us is many of the videos uploaded either have a lot of unnecessary footage at the beginning of people testing the microphone or need a title slide or something of the sort. They aren't works of art but rather just trying our best to share information online. For these small edits to take place we have to send them to a special video editor who's time is really better spent creating awesome media works such as our awesome promo videos. So my mission was to be able to allow users to somehow make these simple edits to videos that they upload themselves without needing some expensive software like Final Cut Pro, Adobe Premier, etc.</aside>
				</section>

				<section>
          <img src="img/small.gif" alt="An example of Popcorn Maker UI"/>
          <aside class="notes">So the first thing that popped into my head was this project right here. This is Popcorn Maker, a Mozilla Foundation project that was part of our WebMaker project. It used this javascript library called popcorn.js to mix and edit videos on the web by streaming videos from different sources like youtube or vimeo and had this nifty editor interface to change how the videos were played.</aside>
				</section>

        <section>
          <div id="editor" style="height: 600px;"></div>
        </section>

				<section>
          <img src="img/popcornjs.png" class="popcorn-logo" alt="Popcorn.js logo"/>
          <aside class="notes">Now this editor was super cool but there were a couple of things that it couldn't do for it to work on Air Mozilla. The main issue was that the editor created Popcorn.js videos. This meant that instead of having a single video file that the user played, it would stream the videos from where ever the user got them from (youtube, vimeo, etc.) and then use javascript to overlay them and hide them at the right time. This meant that the user needed to be using a web browser which wasn't always the case for us. Air Mozilla streams via roku and other devices as well so we needed a way to transcode from this popcorn.js markup into a standard video file</aside>
				</section>

				<section>
          <img src="img/popcoder.png" style="width: 80%" alt="Popcoder github repo">
          <aside class="notes">To do that, I created this python library that sat on top of this tool called ffmpeg. ffmpeg is this command line application that you use to edit and do all sorts of things to video files. What popcoder does is it reads in all of the edits that you made in our web editor, and then manually cuts, stiches, and renders a single output video that you can go and use wherever you'd like.</aside>
				</section>

        <section>
          <pre><code data-trim contenteditable>
"clipData": {
  "https://d3fenhwk93s16g.cloudfront.net/p0f8n3/kpoff.webm": {
      "type": "AirMozilla",
      "title": "Hello from Ritu K",
      "source": "https://d3fenhwk93s16g.cloudfront.net/p0f8n3/hd_webm.webm",
      "thumbnail": "https://air.cdn.mozilla.net/media/cache/70/2b/702ba30e10cf9af1a464e818e5844e6c.png",
      "duration": 55.466
  }
},
					</code></pre>
          <aside class="notes">So what does this data that we're parsing look like? Well it looks kinda like this. The first thing we have is a list of all of the media elements that exist inside of the video. So popcoder takes all of those links and downloads the video.</aside>
        </section>

        <section>
          <pre><code data-trim contenteditable>
"tracks": [{
    "id": "3",
    "trackEvents": [{
        "type": "loopPlugin",
        "popcornOptions": {
            "start": 25.65380201814801,
            "end": 27.029337990223596,
            ...
        },
    }]
}, {
    "id": "2",
    "trackEvents": [{
        "type": "skip",
        "kpoffOptions": { ... },
        "track": "2",
    }]
}, {
    "id": "0",
    "trackEvents": [{
        "id": "TrackEvent0",
        "type": "sequencer",
        "popcornOptions": {
            "start": 0,
            "source": ["https://d3fenhwk93s16g.cloudfront.net/p0f8n3/hd_webm.webm?butteruid=1438208163961"],
            ...
        },
    }]
}]
					</code></pre>
          <aside class="notes">Next, we have this list of all of the tracks, which are the little layers that you saw in the popcorn UI earlier.</aside>
        </section>

        <section>
          <img src="img/airmo1.png" alt="Example of an airmozilla event page">
          <aside class="notes">So what does this actually look like in air mozilla? Well if you've ever used it, I'm sure that you've seen a screen that looks like this. This is a page for viewing a specific video. As you can see, I'm logged in and have admin access to edit the event already. The only difference is that now we have a button that you can click that will bring you to this page...</aside>
        </section>

        <section>
          <img src="img/airmo2.png" alt="Example of an airmozilla edit video page">
          <aside class="notes">This, as you can see is our new edit video page. Now that the editor UI code from the Popcorn Maker website has been refactored into it's own modular javascript library, we can just emebed the editor UI into the air mozilla site and programmatically load in existing edits that we store in our database. Then the user can modify that edit and hit the save button to submit a new video to be rendered for that event.</aside>
        </section>

        <section>
          <img src="img/superbuddies.png" style="border:none; box-shadow:none; width: 400px;" alt="Example of an airmozilla edit video page">
          <aside class="notes">So all of the editor and air mozilla stuff was pretty awesome, but there was another side to my internship here that I haven't really talked about yet. A lot of the work that I have done for air mozilla with editing videos on the web and transcoding them into flat video files is also a big want of other popular websites on the net such as Wikipedia and Internet Archive. Seeing as how Popcorn Maker is being sunset, Ben W. at the Mozilla foundation has been looking for someone to help carry on the torch and we have received a lot of interest from WMF about having the ability to edit video. There has already been work done by WMF and Internet archive to have a collaboritive video editing space and rendering server that outputs the files to Wiki Commons and IA, and I spent a lot of time discussing with them how we can integrate this new modular web based editing UI into that.</aside>
        </section>

        <section>
          <h1>Questions?</h1>
          <aside class="notes">So That's what I've worked on. I've stood upon the shoulders of giants, and took an editor which was about 90% awesome, and made it 100% awesome. Not only that but I've teamed up with all of the big good guys in the industry on to help spread what I've helped make to whoever needs it. Any questions?</aside>
        </section>
			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>
    <script src="bower_components/popcorn-editor/PopcornEditor/src/PopcornEditor.js"></script>
    <script>
    PopcornEditor.init('editor', '/bower_components/popcorn-editor/PopcornEditor/editor.html');
    </script>
	</body>
</html>
